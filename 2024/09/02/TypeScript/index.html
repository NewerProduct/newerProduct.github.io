<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>TypeScript | LiSir</title><meta name="keywords" content="TypeScript"><meta name="author" content="LiSir,zewei4703@gmail.com"><meta name="copyright" content="LiSir"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="TypeScript"><meta name="application-name" content="TypeScript"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="TypeScript"><meta property="og:url" content="http://example.com/2024/09/02/TypeScript/index.html"><meta property="og:site_name" content="LiSir"><meta property="og:description" content="认识TypeScript了解TSTypeScript是Microsoft公司注册商标。 TypeScript具有类型系统，且是JavaScript的超集。 它可以编译成普通的JavaScript代码。 TypeScript支持任意浏览器，任意环境，任意系统并且是开源的。 TypeScript目前还在"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://example.com/img/default_cover.jpg"><meta property="article:author" content="LiSir"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://example.com/img/default_cover.jpg"><meta name="description" content="认识TypeScript了解TSTypeScript是Microsoft公司注册商标。 TypeScript具有类型系统，且是JavaScript的超集。 它可以编译成普通的JavaScript代码。 TypeScript支持任意浏览器，任意环境，任意系统并且是开源的。 TypeScript目前还在"><link rel="shortcut icon" href="/img/touxiang.jpg"><link rel="canonical" href="http://example.com/2024/09/02/TypeScript/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: LiSir","link":"链接: ","source":"来源: LiSir","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'LiSir',
  title: 'TypeScript',
  postAI: '',
  pageFillDescription: '认识TypeScript, 了解TS, 安装TS, 简单运行TS文件, 自动化编译TypeScript, 类型声明, 类型推断, TypeScript类型推断简介, 1. 变量声明, 2. 函数参数, 3. 函数返回值, 4. 数组, 5. 对象字面量, 注意事项, 显式类型声明 vs 类型推断, 类型总览, JavaScript数据类型, TypeScript数据类型, 注意点, 原始类型 VS 包装对象, 自动装箱, 类型断言, 什么是类型断言？, 使用场景, 断言语法, 示例, 注意事项, 常用类型, any, unknown, never, void, object和Object, 拓展1：声明对象类型, 拓展2：声明函数类型, 拓展3：声明数组类型, tuple, enum, 数字枚举, 字符串枚举, 常量枚举, type, 1. 基础类型定义, 2. 联合类型, 3. 交叉类型, 4. 类型别名与接口, 一个特殊况情况, case1：声明函数的同时限制返回值类型为void, case2：先定义函数的类型和声明返回值为void然后再利用变量去声明函数。, 类相关知识, 最基本类的定义, 类的继承, 属性修饰符, 属性的简写形式, 抽象类, 抽象类概念, 抽象类的使用, 何时使用抽象类？, interface接口, 接口定义类, 接口定义对象, 接口定义函数, 接口可以继承接口, 接口自动合并, 何时使用接口？, 区分一些相似概念, interface和type的区别, interface和抽象类的区别, 泛型, 泛型函数, 泛型接口, 泛型类, 类型声明文件, 类型声明文件的作用, 基本语法, TypeScript装饰器, 类装饰器, 类装饰器应用举例, 关于装饰器的返回值, 关于构造类型, 替换被装饰的类, 装饰器工厂, 装饰器组合, 属性装饰器, 关于属性遮蔽问题, 属性装饰器的应用举例, 方法装饰器, 方法装饰器的应用, 访问器装饰器, 访问器装饰器举例, 参数装饰器认识了解是公司注册商标具有类型系统且是的超集它可以编译成普通的代码支持任意浏览器任意环境任意系统并且是开源的目前还在积极的开发完善之中不断地会有新的特性加入进来因此本手册也会紧随官方的每个不断地更新新的章节以及修改措词不妥之处安装有两种主要的方式来获取工具通过包管理器安装的插件针对使用的用户简单运行文件新建一个文件在命令行中使用来编译文件生成同名的文件自动化编译因为不能够直接运行需要我们手动转为才能运行为了方便开发者我们需要将自动转为这一操作开启命令行输入我们会得到一个名为文件该文件配置了转为时的一些规则比如转换成那个规范等使用命令表示监视某个文件当文件内容发生变化时就转为如果不指定文件那该命令就是监视所有的文件一旦发生变化就自动进行转换还有一点当我开启全局监视时确实完成了自动转的功能但是当我们文件中写的内容发生错误时它依旧会直接进行转换这个是我们不希望的解决如下打开文件查找将其注释去掉即可该配置项意味着出现错误就不要再提交进行转换了类型声明基础语法变量变量类型除了能定义变量还能定义函数参数的类型和函数的返回值的类型比如这表示你要接受两个类型是数字型的参数并且返回值的类型也是数字型类型推断类型推断简介类型推断是指编译器自动地根据赋值来确定一个值的类型这意味着在某些情况下你不需要显式地指定类型可以根据上下文来推断出正确的类型变量声明当你声明一个变量并立即赋予一个值时会根据这个值的类型来推断该变量的类型被推断为类型函数参数在函数参数中如果没有显式地指定类型也会尝试根据函数体内的操作进行类型推断被推断为类型函数返回值当函数的返回值没有明确指定类型时会根据语句的结果来推断返回值类型如果是一个数组将根据的类型来推断的返回类型数组对于数组类型推断会根据初始化时的元素来确定数组元素的类型被推断为对象字面量当定义一个对象字面量时会根据提供的键值对来推断对象的类型被推断为注意事项虽然类型推断可以使代码更加简洁但在某些情况下显式地指定类型可能会更加清晰并且有助于避免潜在的错误因此在使用类型推断时应权衡其带来的便利性和可能的混淆性显式类型声明类型推断显式类型声明在声明时就清楚地定义了类型适用于复杂的逻辑和需要明确类型的情况类型推断减少了代码量适用于简单和直白的情况类型总览数据类型其中包含等数据类型上述中的所有类型六个新类型新增了两个用于自定义类型的方式注意点官方推荐在指定类型时使用小写比如原始类型包装对象自动装箱在必要时会将自动原始类型包装成对象以便调用方法或访问属性类型断言什么是类型断言类型断言是一种告诉编译器你应该将此值视为这种类型的方式通常当你从一个上下文获取一个值时这个值可能是多种类型之一这时你就需要使用类型断言来明确地指定这个值应该被视为哪种类型使用场景类型断言常用于以下几种情况当你知道一个值的真实类型但是无法推断出来时在使用的库时这些库可能没有类型信息或者类型信息不准确需要在联合类型或任何类型之间进行转换断言语法提供了两种形式的类型断言尖括号语法关键字语法示例假设你有一个函数它可能返回多种类型的值你想要使用其中一个类型的功能这里的类型是因为我们不知道的第一个元素是什么类型如果我们知道第一个元素总是类型我们可以使用类型断言这样就可以调用的方法注意事项类型兼容性断言只能在兼容的类型之间进行例如你不能将一个断言为滥用类型尽量避免使用类型因为这会绕过的所有类型检查如果必须使用在可能的情况下尽快将其断言回一个具体的类型类型安全类型断言不会改变运行时的实际值只影响编译时的类型检查如果断言错误可能会导致运行时错误常用类型含义是任意类型一旦将变量类型限制为那就意味着放弃了对该变量的类型检查类型的变量可以赋值给任意类型的变量含义是未知类型可以理解为一个类型安全的适用于不确定数据的具体类型当我们给某个变量类型定义为时会出现一些问题比如的类型为未知这时候解决问题有三种方法使用条件判断使用类型断言明确数据类型含义是任何值都不是简单说就是不能有值都不行实际开发中几乎不使用去限制变量类型一般是主动推断出来的可以用来限制函数的返回值通常用于函数返回值的声明含义函数返回值为空调用者也不应该依赖于函数的返回值去做任何操作是可接受的一种空若函数的返回值是则从语法上讲函数可以返回至于显式返回还是隐式返回无所谓函数调用者不应该关心函数的返回值也不应该依赖于函数的返回值去做任何操作即使明白该函数返回了和该类型开发不常用因为限制的范围太大了该类型的含义是能够存储非原始类型数据该类型的含义是除了类型和类型其他类型的数据都可以存储拓展声明对象类型声明对象类型的数据用逗号表示是可选属性还可以这样写使用也可以这样写使用换行如果想要追加属性可以使用索引签名拓展声明函数类型函数名函数参数返回值类型通过上面那样定义表示该变量接受一个返回值是类型且携带了两个数字类型的参数的函数拓展声明数组类型表示声明了一个存储字符串类型的数组表示声明了一个存储数字型数据的数组基础语法数据类型数据类型元组是一种特殊的数组类型可以存储固定数量的元素并且每个元素的类型都是已知的且可以不同元组用于精确描述一组值的类型表示可选元素基本语法这表示该元祖存储的数据类型必须是和且在前在后枚举类型枚举可以定义一组命名常量它能增强代码的可读性也让代码更好维护枚举是一个对象常量无法更改其值基本语法枚举名一般开头大写数字枚举数字枚举存在反向映射也就是查看控制台字符串枚举字符串枚举不存在反向映射查看控制台发现并不存在有值键的关系常量枚举常量枚举是一种特殊的枚举类型它使用关键字定义在编译时会被内联避免生成一些额外代码如果我像下面这样写数字枚举那么生成的文件是下面这样的多且杂数字枚举如果我像下面这样写这种写法就被称为常量枚举数字枚举生成的文件就是这样的其实是个对象在中关键字用于创建类型别名这可以帮助简化复杂的类型名称使得代码更加清晰易读下面是一些关于中的类型的简要学习笔记基础类型定义中的基础类型包括等你可以为这些基础类型创建一个别名联合类型联合类型允许将几种类型合并为一种类型合法的因为可以是或交叉类型交叉类型允许组合多种类型来形成一个新的类型类型别名与接口类型别名和接口都可以用来描述对象的形状但是它们有一些不同之处类型别名可以合并类型而接口则可以扩展或者使用一个特殊况情况声明函数的同时限制返回值类型为看下面这段代码定义函数的同时也限制返回值类型并声明函数如果我们这样子写了那么该函数只能返回不能返回其他类型的值上述写法全部报错类型分配错误先定义函数的类型和声明返回值为然后再利用变量去声明函数如果我们先定义函数和声明返回值类型在进行函数的声明就比如定义一个类型是且返回值类型是的函数利用变量去声明该函数如果向这样子写了那么该函数返回任何类型的值都可以就好像失去了返回值类型的限制均不会报错上述看着好像没多大问题但是实际上问题就在于如果我们拿到了这个返回值并使用返回值进行一些逻辑编写还是会报错比如这就会发生报错无法测试类型的表达式的真实性这点要注意了类相关知识最基本类的定义使用构造器来类方法我叫今年岁使用类张三类的继承使用来继承父类注意点如果想要在子类中添加新的属性需要利用构造器来添加并且构造器中必须包含父类中已有的属性随后在添加子类独有的属性在子类中能够重写父类的方法注意要同名如不同名则会被认为是子类独有方法并利用修饰重写的方法该类继承上面的类类独有属性通过构造器注入不要丢掉父类中的属性先调用父类在子类重写父类方法直接同名即可覆盖注意加上来修饰方法我是子类中重写的方法我叫今年岁来自于班级上述代码中的方法实际上是在调用父类中的方法属性修饰符关键字描述示例默认的可见性级别表示该成员可以在任何地方被访问表示只有在声明它的类内部可以访问该成员表示该成员可以在声明它的类和其子类中访问表示该成员一旦初始化后就不能被重新赋值表示该成员属于类本身而不是类的实例引入修饰符后我们可以引出新概念属性的简写形式属性的简写形式简写前使用构造器来注入简写后可以发现通过修饰符修饰属性就省略了属性的声明和赋值操作直接大大减少代码量以后要多用抽象类抽象类是通过关键字来声明的抽象类是一类无法被实例化的类专门用来定义类的结构和行为类中可以写抽象方法也可以写具体实现抽象类主要用来为其派生类提供一个基础结构要求其派生类必须实现其中的抽象方法抽象类概念简单理解抽象类不能被实例化可以继承抽象类里面可以有普通方法也可以有抽象方法抽象方法要用来修饰并且抽象函数不需要函数体比如抽象方法更像是一种形式我并没有具体要怎么做我只是声明了一个方法构造方法注入属性抽象方法抽象类中也可以存在具体方法包裹重花费元抽象类的使用想要使用抽象类就必须通过继承来实现继承的关键字是来看下面这个例子继承就要注意父类中的属性不能丢掉同时子类也可以有自己的属性特别注意这里要使用方法来给父类传入定义方法实现抽象类中的方法何时使用抽象类定义通用接口为一组相关的类定义通用的行为方法或属性时提供基础实现在抽象类中提供某些方法或为其提供基础实现这样派生类就可以继承这些实现了确保关键实现强制派生类实现一些关键行为共享代码和逻辑当多个类需要共享部分代码时抽象类可以避免代码重复接口是一种定义结构的方式主要作用是为类对象函数等规定一种契约这样可以确保代码的一致性和类型安全但要注意只能定义格式不能包含任何实现就拿在图生图项目中定义的一组表单接口如下使用索引签名来限制所有键必须是字符串类型这样可以动态的向该对象添加属性名和属性值接口定义类利用关键字来实现这个类定义了一个函数返回值类型是上面定义了类接口下面就实现这个类接口通过关键字接口定义对象在利用接口定义一个对象类型是接口更像是一种类型使用方式也和类型一样可选属性上面定义了一个人的接口使用如下张三男跑了米接口定义函数当你需要定义一个函数的类型时可以使用接口来描述这个函数应该接受什么样的参数以及返回什么样的值下面就来实现该接口接口可以继承接口比如说我还有一个接口让班级接口继承学生接口可以看到也就是这个对象中必须有接口的属性和接口的属性缺一不可接口自动合并接口可以进行重复定义还可以再次定义一个同名接口最终使用该接口时就要求包含这三个属性也就是说底层认为你定义了一个接口何时使用接口定义对象的格式描述数据响应格式配置对象等等开发常用类的契约规定一个类中需要哪些属性和方法以及他们的类型自动合并拓展第三方库的类型区分一些相似概念和的区别相同点和都可以用于定义对象结构在许多场景中可以互换不同更专注于对象和类的结构能够继承和自动合并可以定义类型别名联合类型交叉类型不支持继承和自动合并和抽象类的区别都用于定义一个类的格式应该遵守的规则不同点接口只能描述类的接口不能有任何实现代码一个类可以实现多个接口抽象类既可以包含抽象方法也可以包含具体方法一个类只能继承一个抽象类泛型泛型允许我们在定义函数类接口时使用类型参数来表示未指定的类型这些参数在具体使用时才被指定为具体的类型泛型能让同一段代码适用多种类型同时任然保持类型的安全性我们用来表示泛型泛型函数举例比如在一个函数中泛型举例调用时在具体指定具体类型泛型函数可以有多个多个泛型接口泛型接口也很好理解关键在于使用时在具体指定类型泛型接口在具体使用时传入具体类型小李在具体使用时传入具体类型小三高级工程师小米泛型类泛型类任旧是在具体使用时传入具体类型泛型类类方法我叫今年岁具体实现小五高级软件开发工程师小米公司类型声明文件在中类型声明文件是用来定义类型信息的特殊文件这些文件通常用于描述非代码如库的类型结构或者为项目中的其他部分提供类型信息而不包含任何实现逻辑类型声明文件通常以扩展名结尾表示文件类型声明文件的作用提高开发体验通过提供类型信息可以增强的功能如智能提示自动补全等确保类型安全当项目使用了类型声明文件后编译器可以在编译阶段检查类型兼容性提前发现潜在错误简化使用良好的类型定义可以帮助开发者更快地理解第三方库或模块的从而更方便地使用它们基本语法类型声明文件可以包含以下元素接口定义对象的形状类型别名定义复杂类型的别名类类型描述类的静态成员和实例成员函数类型定义函数参数和返回值的类型变量声明声明全局变量或模块作用域内的变量模块声明描述全局模块或命名空间命名空间组织相关类型枚举定义一组命名常量导入导出从其他模块导入类型或向其他模块导出类型装饰器装饰器的本质是一种特殊的函数它可以对类属性方法参数进行拓展同时让代码更简洁装饰器自年在中被提出到现在已经年截止目前装饰器依然是实验性特性需开发者手动调整配置来开启装饰器装饰器有种类装饰器属性装饰器方法装饰器访问器装饰器参数装饰器类装饰器类装饰器是一个应用在类声明上的函数可以为类添加额外功能或添加额外逻辑基本语法类装饰器本质是一个函数函数会在类定义时执行参数就是被装饰的类类装饰器应用举例类装饰器本质是一个函数函数会在类定义时执行参数就是被装饰的类注意这里传递的是实例对象张三张三关于装饰器的返回值如果装饰器有返回值且返回值是一个类那么返回值的类会代替被装饰器装饰的类如果装饰器没有返回值或返回那装饰器的类不会被替换未启用装饰器控制台启动装饰器控制台关于构造类型声明构造类型表示该类型可以使用操作符调用表示该类型可以接受任何数量的参数表示该类型可以接受任意类型的参数表示返回的是一对象类型非非声明构造类型表示该类型可以使用操作符调用表示该类型可以接受任何数量的参数表示该类型可以接受任意类型的参数表示返回的是一对象类型非非使用构造类型必须要有静态属性可以传递因为类符合上述类型条件声明构造类型的同时还能规定静态属性使用构造类型必须要有静态属性这段代码的意思是定义了一个类型别名它实际上是一个接口描述了一个构造函数的要求这个构造函数应该能够接受任意数量的参数由表示的参数并且能够返回一个对象此外还要求这个构造函数本身具有一个名为的字符串属性替换被装饰的类可以看到不仅获得原来类的属性同时也新添加了一些新的属性和方法随便打印点什么声明一个函数它的返回值是使用类装饰器来替换这个类要求保留该类所有内容并新添加一些内容构造类型这里返回类这里定义返回的新的类中独有的属性使用构造器来接住原本类中的属性当前的时间是张三装饰器工厂所谓的装饰器工厂声明一个函数该函数的返回值是一个装饰器即装饰器工厂该写法可以给装饰传递参数装饰器工厂声明一个函数该函数的返回值是一个装饰器即装饰器工厂会说话装饰器工厂返回一个装饰器在类的原型对象上添加一个方法你好我叫今年岁张三次输出你好我叫张三今年岁装饰器组合装饰器组合使用执行顺序是先由上到下执行装饰器工厂获取到装饰器后再由下到上执行所有装饰器装饰器装饰器工厂工厂装饰器工厂工厂装饰器测试结果如下属性装饰器属性装饰器也是一个函数他会收到两个参数第一个参数会因为修饰的属性而改变第二个参数是修饰的属性说明如果属性装饰器修饰的是实例属性那么这个参数指的是该类的原型对象如果属性装饰器修饰的是静态属性那么这个参数指的是这个类本身图示约束屏幕尺寸关于属性遮蔽问题简单说明一下这个问题问题就是代码执行顺序如果我们先进行实例化张三那么在类的实例属性上就会存在属性那么这时去修改属性是不会触发原型对象上的和函数的张三要在原型对象上追加一个属性新值是如果我们先在类的原型对象上添加一个实例属性的话然后再实例化类这时就会去调用构造器执行但是实例上还没有这个属性接下来就沿着原型链去原型对象上查找此时发现原型对象中存在属性且值为于是就把原型对象上的属性交给了实例对象的属性那么实际上就相当于当我们修改实例对象的属性时其实是修改的原型对象上的属性要在原型对象上追加一个属性新值是张三属性装饰器的应用举例场景封装一个监视性的装饰器来监视某个属性当其发生变化时打印变化的值我们就在其原型对象上追加一个属性也是添加属性只不过是通过键的方式来访问某个属性属性被修改了修改后的值是是否可枚举是否可配置张三李三方法装饰器方法装饰器依旧是一个函数具体如下当我们装饰一个类的实例方法时是被装饰方法所在类的原型对象被装饰的方法的方法名被装饰方法的描述图示方法修饰器说点什么我学会跑路了当我们装饰一个类的静态方法时是被装饰方法所在的类被装饰的方法的方法名被装饰方法的描述图示方法修饰器说点什么我学会跑路了方法装饰器的应用能够实现在方法调用前执行一些逻辑在方法调用后执行一些逻辑保存原始方法替换原始方法函数执行前执行的逻辑方法开始执行调用原始函数注意千万不能丢了的指向这里推荐使用或者来调用函数函数执行后执行的逻辑方法结束执行方法修饰器说点什么我学会跑路了张三控制台输出访问器装饰器访问器装饰器是装饰类中的和方法的一种装饰器参数说明对于实例中的访问器来说指的是该访问器所属的原型对象对于静态访问器来说指的是该访问器所属的类属性访问器的名称属性访问器的描述基本语法说点什么我学会跑路了访问器装饰器举例给加一个限制表示我们不能随意设置任意值为了能传递参数这里我们使用装饰器工厂保存原来类中的给现在的换新逻辑您设置的值应该在和您设置的数值不在范围内如果有那么我们调用方法修饰器小李您设置的数值不在范围内参数装饰器在中参数装饰器是一种特殊类型的装饰器它们应用于类的方法或构造函数的参数声明当在方法或构造函数的参数前使用装饰器时这些装饰器即为参数装饰器参数装饰器接收三个参数对于类的方法来说第一个参数是原型对象第二个参数是方法的即方法名第三个参数是索引签名表示被装饰的参数的位置从开始计数下面是一个简单的例子展示了如何使用参数装饰器参数装饰器在这个例子中被用作方法中参数的装饰器每次创建实例并调用其方法时装饰器就会被调用并打印出装饰器接收到的信息',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-01-18 13:11:48',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/touxiang.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://newerproduct.github.io/" title="我的博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/touxiang.jpg" alt="我的博客"/><span class="back-menu-item-text">我的博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="鱼图床"/><span class="back-menu-item-text">鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">LiSir</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Eacharts/" style="font-size: 1.05rem;">Eacharts<sup>1</sup></a><a href="/tags/Electron/" style="font-size: 1.05rem;">Electron<sup>1</sup></a><a href="/tags/HTML-CSS/" style="font-size: 1.05rem;">HTML,CSS<sup>1</sup></a><a href="/tags/JS/" style="font-size: 1.05rem;">JS<sup>1</sup></a><a href="/tags/Java%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">Java学习<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 1.05rem;">TypeScript<sup>1</sup></a><a href="/tags/git%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">git学习<sup>1</sup></a><a href="/tags/jQuery/" style="font-size: 1.05rem;">jQuery<sup>1</sup></a><a href="/tags/java%E5%92%8Cvue%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%94%99%E8%AF%AF%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E6%94%B9%E6%AD%A3%E5%92%8C%E5%AF%B9%E4%BB%96%E4%BB%AC%E7%9A%84%E7%90%86%E8%A7%A3%E6%95%B4%E7%90%86-%E5%8F%82%E5%8A%A0%E7%9A%84%E9%A1%B9%E7%9B%AE/" style="font-size: 1.05rem;">java和vue开发中遇到的错误以及如何改正和对他们的理解整理(参加的项目)<sup>1</sup></a><a href="/tags/js-node-js/" style="font-size: 1.05rem;">js-node.js<sup>1</sup></a><a href="/tags/jwt-%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81-cookie/" style="font-size: 1.05rem;">jwt,身份认证,cookie<sup>1</sup></a><a href="/tags/nginx%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">nginx学习<sup>1</sup></a><a href="/tags/uni-app%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">uni-app框架<sup>1</sup></a><a href="/tags/vue-js/" style="font-size: 1.05rem;">vue.js<sup>1</sup></a><a href="/tags/vue-js%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">vue.js前置知识<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF-web-%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">前端,web,框架<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 1.05rem;">后端开发<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" style="font-size: 1.05rem;">开发总结<sup>1</sup></a><a href="/tags/%E6%89%8B%E6%9C%BA%EF%BC%8C%E7%A7%BB%E5%8A%A8%E7%AB%AF%EF%BC%8Cless/" style="font-size: 1.05rem;">手机，移动端，less<sup>1</sup></a><a href="/tags/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%EF%BC%8C%E6%A8%A1%E5%9D%97/" style="font-size: 1.05rem;">打包工具，模块<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.05rem;">数据结构<sup>1</sup></a><a href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-vue2-js/" style="font-size: 1.05rem;">状态管理工具(vue2.js)<sup>1</sup></a><a href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-vue3-js/" style="font-size: 1.05rem;">状态管理工具(vue3.js)<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">算法<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">13</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/TypeScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>TypeScript</span></a></span></div></div><h1 class="post-title" itemprop="name headline">TypeScript</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-09-02T01:29:05.000Z" title="发表于 2024-09-02 09:29:05">2024-09-02</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-01-18T05:11:48.907Z" title="更新于 2025-01-18 13:11:48">2025-01-18</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为张家口"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>张家口</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/img/default_cover.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/09/02/TypeScript/"><header><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a><a href="/tags/TypeScript/" tabindex="-1" itemprop="url">TypeScript</a><h1 id="CrawlerTitle" itemprop="name headline">TypeScript</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">LiSir</span><time itemprop="dateCreated datePublished" datetime="2024-09-02T01:29:05.000Z" title="发表于 2024-09-02 09:29:05">2024-09-02</time><time itemprop="dateCreated datePublished" datetime="2025-01-18T05:11:48.907Z" title="更新于 2025-01-18 13:11:48">2025-01-18</time></header><h1 id="认识TypeScript"><a href="#认识TypeScript" class="headerlink" title="认识TypeScript"></a>认识TypeScript</h1><h2 id="了解TS"><a href="#了解TS" class="headerlink" title="了解TS"></a>了解TS</h2><p>TypeScript是Microsoft公司注册商标。</p>
<p>TypeScript具有类型系统，且是JavaScript的超集。 它可以编译成普通的JavaScript代码。 TypeScript支持任意浏览器，任意环境，任意系统并且是开源的。</p>
<p>TypeScript目前还在积极的开发完善之中，不断地会有新的特性加入进来。 因此本手册也会紧随官方的每个commit，不断地更新新的章节以及修改措词不妥之处。</p>
<h2 id="安装TS"><a href="#安装TS" class="headerlink" title="安装TS"></a>安装TS</h2><p>有两种主要的方式来获取TypeScript工具：</p>
<ul>
<li>通过npm（Node.js包管理器）</li>
<li>安装Visual Studio的TypeScript插件</li>
</ul>
<p>针对使用npm的用户：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure>

<h2 id="简单运行TS文件"><a href="#简单运行TS文件" class="headerlink" title="简单运行TS文件"></a>简单运行TS文件</h2><p>新建一个<code>index.ts</code>文件</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="string">&quot;Jane User&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>在命令行中，使用<code>tsc index.ts</code> 来编译ts文件 —-&gt;生成同名的js文件</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240908151425057.png" alt="image-20240908151425057"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240908151435872.png" alt="image-20240908151435872"></p>
<h2 id="自动化编译TypeScript"><a href="#自动化编译TypeScript" class="headerlink" title="自动化编译TypeScript"></a>自动化编译TypeScript</h2><p>因为ts不能够直接运行，需要我们手动转为js才能运行，为了方便开发者，我们需要将自动转为js这一操作开启。</p>
<ol>
<li><p>命令行输入<code>tsc --init</code>我们会得到一个名为<code>tsconfig.json</code>文件。该文件配置了ts转为js时的一些规则，比如转换成那个规范(es5，es6，es7)等。</p>
</li>
<li><p>使用命令<code>tsc --watch</code>，表示监视某个ts文件，当文件内容发生变化时，就转为js，如果不指定文件那该命令就是监视所有的ts文件，一旦发生变化就自动进行转换。</p>
</li>
</ol>
<p>还有一点，当我开启全局监视时，确实完成了自动ts转js的功能，但是当我们ts文件中写的内容发生错误时，它依旧会直接进行转换，这个是我们不希望的。解决如下：</p>
<ol>
<li>打开<code>tsconfig.json</code>文件查找<code>noEmitOnError</code>，将其注释去掉即可。该配置项意味着出现错误就不要再提交进行转换了。</li>
</ol>
<h1 id="类型声明"><a href="#类型声明" class="headerlink" title="类型声明"></a>类型声明</h1><p>基础语法：<code>let 变量:变量类型</code></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="built_in">boolean</span>;</span><br></pre></td></tr></table></figure>

<p>除了能定义变量，还能定义函数参数的类型和函数的返回值的类型，比如</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这表示你要接受两个类型是数字型的参数。，并且返回值的类型也是数字型。</p>
<h1 id="类型推断"><a href="#类型推断" class="headerlink" title="类型推断"></a>类型推断</h1><h2 id="TypeScript类型推断简介"><a href="#TypeScript类型推断简介" class="headerlink" title="TypeScript类型推断简介"></a>TypeScript类型推断简介</h2><p>类型推断是指TypeScript编译器自动地根据赋值来确定一个值的类型。这意味着在某些情况下，你不需要显式地指定类型，TypeScript可以根据上下文来推断出正确的类型。</p>
<h3 id="1-变量声明"><a href="#1-变量声明" class="headerlink" title="1. 变量声明"></a>1. 变量声明</h3><p>当你声明一个变量并立即赋予一个值时，TypeScript会根据这个值的类型来推断该变量的类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVariable = <span class="string">&quot;Hello World&quot;</span>; <span class="comment">// myVariable被推断为string类型</span></span><br></pre></td></tr></table></figure>

<h3 id="2-函数参数"><a href="#2-函数参数" class="headerlink" title="2. 函数参数"></a>2. 函数参数</h3><p>在函数参数中，如果没有显式地指定类型，TypeScript也会尝试根据函数体内的操作进行类型推断。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logMessage</span>(<span class="params">message</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(message.<span class="property">length</span>); <span class="comment">// message被推断为string类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-函数返回值"><a href="#3-函数返回值" class="headerlink" title="3. 函数返回值"></a>3. 函数返回值</h3><p>当函数的返回值没有明确指定类型时，TypeScript会根据return语句的结果来推断返回值类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getFirstElement</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr[<span class="number">0</span>]; <span class="comment">// 如果arr是一个数组，TypeScript将根据arr[0]的类型来推断getFirstElement的返回类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-数组"><a href="#4-数组" class="headerlink" title="4. 数组"></a>4. 数组</h3><p>对于数组，类型推断会根据初始化时的元素来确定数组元素的类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">// numbers被推断为number[]</span></span><br></pre></td></tr></table></figure>

<h3 id="5-对象字面量"><a href="#5-对象字面量" class="headerlink" title="5. 对象字面量"></a>5. 对象字面量</h3><p>当定义一个对象字面量时，TypeScript会根据提供的键值对来推断对象的类型。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>, <span class="attr">age</span>: <span class="number">25</span> &#125;; <span class="comment">// person被推断为&#123; name: string; age: number &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>虽然类型推断可以使代码更加简洁，但在某些情况下，显式地指定类型可能会更加清晰并且有助于避免潜在的错误。因此，在使用类型推断时，应权衡其带来的便利性和可能的混淆性。</p>
<h3 id="显式类型声明-vs-类型推断"><a href="#显式类型声明-vs-类型推断" class="headerlink" title="显式类型声明 vs 类型推断"></a>显式类型声明 vs 类型推断</h3><ul>
<li><strong>显式类型声明</strong>：在声明时就清楚地定义了类型，适用于复杂的逻辑和需要明确类型的情况。</li>
<li><strong>类型推断</strong>：减少了代码量，适用于简单和直白的情况。</li>
</ul>
<h1 id="类型总览"><a href="#类型总览" class="headerlink" title="类型总览"></a>类型总览</h1><h2 id="JavaScript数据类型"><a href="#JavaScript数据类型" class="headerlink" title="JavaScript数据类型"></a>JavaScript数据类型</h2><ol>
<li>string</li>
<li>number</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li>bigint</li>
<li>symbol</li>
<li>object</li>
</ol>
<p>其中object包含：Array，Function，Date，Error等……</p>
<h2 id="TypeScript数据类型"><a href="#TypeScript数据类型" class="headerlink" title="TypeScript数据类型"></a>TypeScript数据类型</h2><ol>
<li><p>上述js中的所有类型</p>
</li>
<li><p>六个新类型</p>
<p>any</p>
<p>unknow</p>
<p>never</p>
<p>void</p>
<p>tuple</p>
<p>enum</p>
</li>
<li><p>新增了两个用于自定义类型的方式</p>
<p>type</p>
<p>interface</p>
</li>
</ol>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><p>官方推荐在指定类型时，使用小写，比如</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240908155452845.png" alt="image-20240908155452845"></p>
<h3 id="原始类型-VS-包装对象"><a href="#原始类型-VS-包装对象" class="headerlink" title="原始类型 VS 包装对象"></a>原始类型 VS 包装对象</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240908155614384.png" alt="image-20240908155614384"></p>
<h3 id="自动装箱"><a href="#自动装箱" class="headerlink" title="自动装箱"></a>自动装箱</h3><p>JavaScript在必要时会将自动原始类型包装成对象，以便调用方法或访问属性。</p>
<h1 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h1><h2 id="什么是类型断言？"><a href="#什么是类型断言？" class="headerlink" title="什么是类型断言？"></a>什么是类型断言？</h2><p>类型断言（Type Assertion）是一种告诉编译器“你应该将此值视为这种类型”的方式。通常，当你从一个上下文获取一个值时，这个值可能是多种类型之一，这时你就需要使用类型断言来明确地指定这个值应该被视为哪种类型。</p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>类型断言常用于以下几种情况：</p>
<ul>
<li>当你知道一个值的真实类型，但是TypeScript无法推断出来时。</li>
<li>在使用JavaScript的库时，这些库可能没有类型信息，或者类型信息不准确。</li>
<li>需要在联合类型或任何类型（<code>any</code>）之间进行转换。</li>
</ul>
<h2 id="断言语法"><a href="#断言语法" class="headerlink" title="断言语法"></a>断言语法</h2><p>TypeScript提供了两种形式的类型断言：</p>
<ol>
<li><p><strong>尖括号语法</strong>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = &lt;<span class="built_in">string</span>&gt;someValue.<span class="property">length</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>as 关键字语法</strong>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">someValue</span>: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">strLength</span>: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).<span class="property">length</span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>假设你有一个函数，它可能返回多种类型的值，你想要使用其中一个类型的功能。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getFirstElement</span>(<span class="params">array: <span class="built_in">any</span>[]</span>): <span class="built_in">any</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> array[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>, <span class="literal">true</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> element = <span class="title function_">getFirstElement</span>(myArray);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里element的类型是any，因为我们不知道myArray的第一个元素是什么类型</span></span><br><span class="line"><span class="comment">// 如果我们知道第一个元素总是number类型，我们可以使用类型断言</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">firstElement</span>: <span class="built_in">number</span> = element <span class="keyword">as</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstElement.<span class="title function_">toFixed</span>()); <span class="comment">// 这样就可以调用number的方法</span></span><br></pre></td></tr></table></figure>

<h2 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li><strong>类型兼容性</strong>：断言只能在兼容的类型之间进行。例如，你不能将一个<code>string</code>断言为<code>boolean</code>。</li>
<li><strong>滥用<code>any</code>类型</strong>：尽量避免使用<code>any</code>类型，因为这会绕过TypeScript的所有类型检查。如果必须使用<code>any</code>，在可能的情况下尽快将其断言回一个具体的类型。</li>
<li><strong>类型安全</strong>：类型断言不会改变运行时的实际值，只影响TypeScript编译时的类型检查。如果断言错误，可能会导致运行时错误。</li>
</ul>
<h1 id="常用类型"><a href="#常用类型" class="headerlink" title="常用类型"></a>常用类型</h1><h2 id="any"><a href="#any" class="headerlink" title="any"></a>any</h2><p><code>any</code>：含义是任意类型，一旦将变量类型限制为<code>any</code>，那就意味着放弃了对该变量的类型检查</p>
<ul>
<li>any类型的变量可以赋值给任意类型的变量。！！！</li>
</ul>
<h2 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h2><p><code>unknown</code>：含义是未知类型。</p>
<ul>
<li><p>unknow可以理解为一个类型安全的<code>any</code>，适用于：不确定数据的具体类型。</p>
</li>
<li><p>当我们给某个变量类型定义为known时，会出现一些问题(<strong>比如:”str的类型为未知”</strong>)，这时候解决问题有三种方法：1.使用条件判断。2.使用类型断言，明确数据类型。</p>
</li>
</ul>
<h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><p><code>never</code>：含义是任何值都不是，简单说就是不能有值，<code>undefined</code>、<code>null</code>、<code>&#39; &#39;</code>、<code>0</code>都不行！</p>
<ul>
<li>实际开发中，几乎不使用never去限制变量类型</li>
<li>never一般是TS主动推断出来的。</li>
<li>never可以用来限制函数的返回值</li>
</ul>
<h2 id="void"><a href="#void" class="headerlink" title="void"></a>void</h2><p><code>void</code>：通常用于函数返回值的声明。含义：函数返回值为空，<strong>调用者也不应该依赖于函数的返回值去做任何操作。</strong></p>
<ul>
<li>undefined是void可接受的一种空。</li>
<li>若函数的返回值是<code>void</code>，则：1.从语法上讲：函数可以返回<code>undefined</code>，至于显式返回还是隐式返回，无所谓。2.函数调用者不应该关心函数的返回值，也不应该依赖于函数的返回值去做任何操作。即使明白该函数返回了<code>undefined</code></li>
</ul>
<h2 id="object和Object"><a href="#object和Object" class="headerlink" title="object和Object"></a>object和Object</h2><p><code>object</code>：（该类型开发不常用，因为限制的范围太大了）该类型的含义是：能够存储非原始类型数据。</p>
<p><code>Object</code>：该类型的含义是：除了<code>null</code>类型和<code>undefined</code>类型，其他类型的数据都可以存储。</p>
<h4 id="拓展1：声明对象类型"><a href="#拓展1：声明对象类型" class="headerlink" title="拓展1：声明对象类型"></a>拓展1：声明对象类型</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明对象类型的数据 - 用逗号 ?表示age是可选属性</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">person1</span>: &#123; <span class="attr">name</span>: <span class="built_in">string</span>, age?: <span class="built_in">number</span> &#125;</span><br><span class="line"><span class="comment">//还可以这样写 - 使用 ;</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">person2</span>: &#123; <span class="attr">name</span>: <span class="built_in">string</span>; age?: <span class="built_in">number</span>; &#125;</span><br><span class="line"><span class="comment">//也可以这样写 - 使用换行</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">person3</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">    age?: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果想要追加属性可以使用索引签名 - [key:string]:any</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">person1</span>: &#123; <span class="attr">name</span>: <span class="built_in">string</span>, age?: <span class="built_in">number</span>,[<span class="attr">key</span>:<span class="built_in">string</span>]:<span class="built_in">any</span> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="拓展2：声明函数类型"><a href="#拓展2：声明函数类型" class="headerlink" title="拓展2：声明函数类型"></a>拓展2：声明函数类型</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//let 函数名 = (函数参数) =&gt; 返回值类型</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">count</span> = (<span class="params">a:<span class="built_in">number</span>,b:<span class="built_in">number</span></span>) =&gt; <span class="built_in">number</span></span><br></pre></td></tr></table></figure>

<p>通过上面那样定义，表示：该变量count，接受一个返回值是number类型，且携带了a，b两个数字类型的参数的函数。</p>
<h4 id="拓展3：声明数组类型"><a href="#拓展3：声明数组类型" class="headerlink" title="拓展3：声明数组类型"></a>拓展3：声明数组类型</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="built_in">string</span>[] <span class="comment">// - 表示声明了一个存储字符串类型的数组。</span></span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; <span class="comment">// - 表示声明了一个存储数字型数据的数组。</span></span><br></pre></td></tr></table></figure>

<p>基础语法：数据类型[] <code>/ </code>Array&lt;数据类型&gt;</p>
<h2 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h2><p><strong>元组(tuple)是一种特殊的数组类型</strong>，可以存储固定数量的元素，并且每个元素的类型都是已知的且可以不同。元组用于精确描述一组值的类型，<code>?</code>表示可选元素。</p>
<p>基本语法：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="built_in">string</span>,<span class="built_in">number</span>];</span><br></pre></td></tr></table></figure>

<p>这表示该元祖存储的数据类型必须是string和number且string在前，number在后。</p>
<h2 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h2><p>枚举类型。枚举可以定义一组<strong>命名常量</strong>，它能增强代码的可读性，也让代码更好维护。枚举是一个对象。</p>
<p>常量：无法更改其值。</p>
<p>基本语法：<code>enum + 枚举名(一般开头大写) &#123; &#125;</code></p>
<h3 id="数字枚举"><a href="#数字枚举" class="headerlink" title="数字枚举"></a>数字枚举</h3><p>数字枚举存在反向映射。也就是0 - up，1-down，2-left，3-right</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span>,</span><br><span class="line">    <span class="title class_">Down</span>,</span><br><span class="line">    <span class="title class_">Left</span>,</span><br><span class="line">    <span class="title class_">Right</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查看控制台：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240909202829550.png" alt="image-20240909202829550"></p>
<h3 id="字符串枚举"><a href="#字符串枚举" class="headerlink" title="字符串枚举"></a>字符串枚举</h3><p>字符串枚举不存在反向映射</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">StrEnum</span> &#123;</span><br><span class="line">    name=<span class="string">&#x27;xiaoli&#x27;</span>,</span><br><span class="line">    age=<span class="string">&#x27;22&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查看控制台：发现并不存在有值 - 键的关系。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240909203441996.png" alt="image-20240909203441996"></p>
<h3 id="常量枚举"><a href="#常量枚举" class="headerlink" title="常量枚举"></a>常量枚举</h3><p>常量枚举是一种特殊的枚举类型，它使用<code>const</code>关键字定义，在编译时会被内联，避免生成一些额外代码。</p>
<p>如果我像下面这样写</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数字枚举</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    up,</span><br><span class="line">    down,</span><br><span class="line">    left,</span><br><span class="line">    right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么生成的js文件是下面这样的：<strong>多且杂</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="comment">//数字枚举</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Direction</span>;</span><br><span class="line">(<span class="keyword">function</span> (<span class="params">Direction</span>) &#123;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="title class_">Direction</span>[<span class="string">&quot;up&quot;</span>] = <span class="number">0</span>] = <span class="string">&quot;up&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="title class_">Direction</span>[<span class="string">&quot;down&quot;</span>] = <span class="number">1</span>] = <span class="string">&quot;down&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="title class_">Direction</span>[<span class="string">&quot;left&quot;</span>] = <span class="number">2</span>] = <span class="string">&quot;left&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="title class_">Direction</span>[<span class="string">&quot;right&quot;</span>] = <span class="number">3</span>] = <span class="string">&quot;right&quot;</span>;</span><br><span class="line">&#125;)(<span class="title class_">Direction</span> || (<span class="title class_">Direction</span> = &#123;&#125;));</span><br></pre></td></tr></table></figure>

<p>如果我像下面这样写 - 这种写法就被称为常量枚举。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数字枚举</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    up,</span><br><span class="line">    down,</span><br><span class="line">    left,</span><br><span class="line">    right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>生成的js文件就是这样的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> <span class="comment">/* Direction.up */</span>); <span class="comment">//其实是个对象</span></span><br></pre></td></tr></table></figure>

<h2 id="type"><a href="#type" class="headerlink" title="type"></a>type</h2><p>在TypeScript中，<code>type</code>关键字用于创建类型别名（Type Aliases），这可以帮助简化复杂的类型名称，使得代码更加清晰易读。下面是一些关于TypeScript中的<code>type</code>类型的简要学习笔记：</p>
<h3 id="1-基础类型定义"><a href="#1-基础类型定义" class="headerlink" title="1. 基础类型定义"></a>1. 基础类型定义</h3><p>TypeScript 中的基础类型包括 <code>string</code>, <code>number</code>, <code>boolean</code>, <code>null</code>, <code>undefined</code>, <code>void</code>, <code>any</code>, <code>unknown</code> 等。你可以为这些基础类型创建一个别名：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Name</span> = <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">userName</span>: <span class="title class_">Name</span> = <span class="string">&quot;Tom&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-联合类型"><a href="#2-联合类型" class="headerlink" title="2. 联合类型"></a>2. 联合类型</h3><p><strong>联合类型允许将几种类型合并为一种类型</strong>：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">ID</span> = <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">myId</span>: <span class="variable constant_">ID</span> = <span class="number">42</span>;</span><br><span class="line">myId = <span class="string">&quot;str42&quot;</span>; <span class="comment">// 合法的，因为ID可以是string或number</span></span><br></pre></td></tr></table></figure>

<h3 id="3-交叉类型"><a href="#3-交叉类型" class="headerlink" title="3. 交叉类型"></a>3. 交叉类型</h3><p>交叉类型允许组合多种类型来形成一个新的类型：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Employee</span> = &#123;</span><br><span class="line">    <span class="attr">employeeId</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">EmployeePerson</span> = <span class="title class_">Person</span> &amp; <span class="title class_">Employee</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">employee</span>: <span class="title class_">EmployeePerson</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">    <span class="attr">employeeId</span>: <span class="number">12345</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="4-类型别名与接口"><a href="#4-类型别名与接口" class="headerlink" title="4. 类型别名与接口"></a>4. 类型别名与接口</h3><p>类型别名和接口都可以用来描述对象的形状，但是它们有一些不同之处。类型别名可以合并类型，而接口则可以扩展：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Animal</span> = &#123; <span class="attr">name</span>: <span class="built_in">string</span>; &#125;;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者使用extends</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> <span class="keyword">extends</span> &#123; <span class="attr">name</span>: <span class="built_in">string</span> &#125; &#123;</span><br><span class="line">    age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="一个特殊况情况"><a href="#一个特殊况情况" class="headerlink" title="一个特殊况情况"></a>一个特殊况情况</h3><h4 id="case1：声明函数的同时限制返回值类型为void"><a href="#case1：声明函数的同时限制返回值类型为void" class="headerlink" title="case1：声明函数的同时限制返回值类型为void"></a>case1：声明函数的同时限制返回值类型为<code>void</code></h4><p>看下面这段代码</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义函数的同时也限制返回值类型 - void 并声明函数。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Hello</span>(<span class="params"></span>):<span class="built_in">void</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果我们这样子写了，那么该函数只能返回undefined ，不能返回其他类型的值</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     return 11;</span></span><br><span class="line"><span class="comment">     return false;</span></span><br><span class="line"><span class="comment">     return null;</span></span><br><span class="line"><span class="comment">     return &quot;hello&quot;</span></span><br><span class="line"><span class="comment">    上述写法全部报错类型分配错误</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="case2：先定义函数的类型和声明返回值为void，然后再利用变量去声明函数。"><a href="#case2：先定义函数的类型和声明返回值为void，然后再利用变量去声明函数。" class="headerlink" title="case2：先定义函数的类型和声明返回值为void，然后再利用变量去声明函数。"></a>case2：先定义函数的类型和声明返回值为<code>void</code>，然后再利用变量去声明函数。</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果我们先定义函数和声明返回值类型，在进行函数的声明，就比如</span></span><br><span class="line"><span class="keyword">type</span> testFn = <span class="function">() =&gt;</span> <span class="built_in">void</span>; <span class="comment">//定义一个类型是testFn 且返回值类型是void的函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//利用变量去声明该函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">f1</span>:testFn = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    如果向这样子写了，那么该函数返回任何类型的值都可以，就好像失去了void返回值类型的限制</span></span><br><span class="line"><span class="comment">    return 11;</span></span><br><span class="line"><span class="comment">    return true;</span></span><br><span class="line"><span class="comment">    均不会报错。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述看着好像没多大问题，但是实际上，问题就在于如果我们拿到了这个返回值，并使用返回值进行一些逻辑编写，还是会报错。比如</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="title function_">f1</span>())&#123;</span><br><span class="line">    <span class="comment">//这就会发生报错 - 无法测试&quot;void&quot;类型的表达式的真实性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这点要注意了。</p>
<h1 id="类相关知识"><a href="#类相关知识" class="headerlink" title="类相关知识"></a>类相关知识</h1><h2 id="最基本类的定义"><a href="#最基本类的定义" class="headerlink" title="最基本类的定义"></a>最基本类的定义</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="comment">//使用构造器来</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//类方法</span></span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我叫<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用类</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><p>使用extends来继承父类。</p>
<p>注意点：</p>
<ul>
<li>如果想要在子类中添加新的属性，需要利用constructor构造器来添加，并且构造器中必须包含父类中已有的属性，随后在添加子类独有的属性。</li>
<li>在子类中能够重写父类的方法。注意要同名，如不同名则会被TS认为是子类独有方法。并利用override修饰重写的方法。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该类继承上面的Person类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Peoson</span>&#123;</span><br><span class="line">    <span class="comment">//类独有属性</span></span><br><span class="line">    <span class="attr">grade</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="comment">//通过构造器注入 - 不要丢掉父类中的属性</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span>,grade:<span class="built_in">string</span></span>)&#123;</span><br><span class="line">        <span class="comment">//先调用父类</span></span><br><span class="line">        <span class="variable language_">super</span>(name,age);</span><br><span class="line">        <span class="comment">//在子类</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//重写父类方法直接同名即可覆盖 注意加上override来修饰方法</span></span><br><span class="line">   <span class="keyword">override</span> <span class="title function_">speack</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我是子类中重写的方法，我叫<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁，来自于班级<span class="subst">$&#123;<span class="variable language_">this</span>.grade&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码中的super方法实际上是在调用父类中的<code>constructor</code>方法</p>
<h1 id="属性修饰符"><a href="#属性修饰符" class="headerlink" title="属性修饰符"></a>属性修饰符</h1><table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>public</code></td>
<td>默认的可见性级别，表示该成员可以在任何地方被访问。</td>
<td><pre><code>class MyClass &#123;<br>  public myProperty = 'Hello World';<br>&#125;</code></pre></td>
</tr>
<tr>
<td><code>private</code></td>
<td>表示只有在声明它的类内部可以访问该成员。</td>
<td><pre><code>class MyClass &#123;<br>  private myProperty = 'Secret';<br>&#125;</code></pre></td>
</tr>
<tr>
<td><code>protected</code></td>
<td>表示该成员可以在声明它的类和其子类中访问。</td>
<td><pre><code>class BaseClass &#123;<br>  protected myProperty = 'Shared';<br>&#125;<br>class DerivedClass extends BaseClass &#123;&#125;</code></pre></td>
</tr>
<tr>
<td><code>readonly</code></td>
<td>表示该成员一旦初始化后就不能被重新赋值。</td>
<td><pre><code>class MyClass &#123;<br>  readonly myProperty: string;<br>  constructor() &#123;<br>    this.myProperty = 'Immutable';<br>  &#125;<br>&#125;</code></pre></td>
</tr>
<tr>
<td><code>static</code></td>
<td>表示该成员属于类本身，而不是类的实例。</td>
<td><pre><code>class MyClass &#123;<br>  static myStaticMethod() &#123;<br>    console.log('Called static method');<br>  &#125;<br>&#125;</code></pre></td>
</tr>
</tbody></table>
<p><strong>引入修饰符后我们可以引出新概念：属性的简写形式</strong></p>
<h2 id="属性的简写形式"><a href="#属性的简写形式" class="headerlink" title="属性的简写形式"></a>属性的简写形式</h2><p><strong>简写前：</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="comment">//使用构造器来注入</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>简写后：</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> age:<span class="built_in">string</span></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以发现，通过修饰符修饰属性，就省略了属性的声明和赋值操作，直接大大减少代码量。以后要多用。</p>
<h1 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h1><p>抽象类是通过关键字<code>abstract</code>来声明的，抽象类是一类无法被实例化的类，专门用来定义类的结构和行为，类中可以写抽象方法，也可以写具体实现。抽象类主要用来为其派生类提供一个基础结构，要求其派生类必须实现其中的抽象方法。</p>
<h2 id="抽象类概念"><a href="#抽象类概念" class="headerlink" title="抽象类概念"></a>抽象类概念</h2><p>简单理解：<strong>抽象类不能被实例化，可以继承，抽象类里面可以有普通方法，也可以有抽象方法</strong></p>
<p><strong>抽象方法</strong>要用abstract来修饰，并且抽象函数不需要函数体，比如,抽象方法更像是一种形式，我并没有具体要怎么做，我只是声明了一个方法。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Package</span> &#123;</span><br><span class="line"><span class="comment">//构造方法注入属性。</span></span><br><span class="line">    <span class="title function_">constract</span>(<span class="params"><span class="keyword">public</span> weight:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    <span class="comment">//抽象方法</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">calculate</span>():<span class="built_in">number</span></span><br><span class="line">    <span class="comment">//抽象类中也可以存在具体方法。</span></span><br><span class="line">    <span class="title function_">printPackage</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`包裹重<span class="subst">$&#123;<span class="variable language_">this</span>.weight&#125;</span>KG,花费<span class="subst">$&#123;<span class="variable language_">this</span>.calculate()&#125;</span>元`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="抽象类的使用"><a href="#抽象类的使用" class="headerlink" title="抽象类的使用"></a>抽象类的使用</h2><p>想要使用抽象类，就必须通过继承来实现。继承的关键字是<code>extends</code>，来看下面这个例子。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StandardPackahge</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Package</span> &#123;</span><br><span class="line">    <span class="comment">//继承就要注意父类中的属性不能丢掉，同时子类也可以有自己的属性</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">weight:<span class="built_in">number</span>,<span class="keyword">public</span> initPrice:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="comment">//特别注意这里要使用super方法来给父类传入weight</span></span><br><span class="line">        <span class="variable language_">super</span>(weight);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//定义方法 - 实现抽象类中的方法</span></span><br><span class="line">    <span class="title function_">calculate</span>():<span class="built_in">number</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">weight</span> * <span class="variable language_">this</span>.<span class="property">initPrice</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="何时使用抽象类？"><a href="#何时使用抽象类？" class="headerlink" title="何时使用抽象类？"></a>何时使用抽象类？</h2><ol>
<li>定义<strong>通用接口</strong>：为一组相关的类定义通用的行为(方法或属性)时。</li>
<li>提供<strong>基础实现</strong>：在抽象类中提供某些方法或为其提供基础实现，这样派生类就可以继承这些实现了。</li>
<li>确保<strong>关键实现</strong>：强制派生类实现一些关键行为。</li>
<li><strong>共享</strong>代码和逻辑：当多个类需要共享部分代码时，抽象类可以避免代码重复。</li>
</ol>
<h1 id="interface接口"><a href="#interface接口" class="headerlink" title="interface接口"></a>interface接口</h1><p>interface是一种定义结构的方式，<strong>主要作用是为：类，对象，函数等规定一种契约，这样可以确保代码的一致性和类型安全，但要注意interface只能定义格式，不能包含任何实现！</strong></p>
<p>就拿在AI图生图项目中，定义的一组表单接口如下</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> formType &#123;</span><br><span class="line">  <span class="attr">init_images</span>: <span class="built_in">string</span>[];</span><br><span class="line">  <span class="attr">sd_model_checkpoint</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">refBd</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="attr">refHair</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="comment">//使用索引签名 来限制 所有键必须是字符串类型，这样可以动态的向该对象添加属性名和属性值。</span></span><br><span class="line">  <span class="attr">prompt</span>: &#123; [<span class="attr">index</span>: <span class="built_in">string</span>]: <span class="built_in">number</span> &#125;;</span><br><span class="line">  <span class="attr">steps</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">cfg_scale</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">sampler_index</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">seed</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">negative_prompt</span>: &#123; [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">number</span> &#125;;</span><br><span class="line">  <span class="attr">pictureNum</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">denoising_strength</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">width</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">height</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">mask</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">mask_blur</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">inpainting_mask_invert</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口定义类"><a href="#接口定义类" class="headerlink" title="接口定义类"></a>接口定义类</h2><p>利用implements关键字来实现这个类</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="comment">//定义了一个speack函数，返回值类型是void</span></span><br><span class="line">    <span class="title function_">speack</span>(<span class="attr">n</span>:<span class="built_in">number</span>) =&gt; <span class="built_in">void</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面定义了类接口，下面就实现这个类接口 - 通过<code>implements</code>关键字</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="title function_">speack</span>(<span class="params">n:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口定义对象"><a href="#接口定义对象" class="headerlink" title="接口定义对象"></a>接口定义对象</h2><p>在利用接口定义一个对象类型是，接口更像是一种类型。使用方式也和类型一样</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PeosonInterface</span>&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    age?:<span class="built_in">number</span>, <span class="comment">//可选属性</span></span><br><span class="line">    <span class="attr">gender</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="title function_">run</span>(<span class="attr">n</span>:<span class="built_in">number</span>) =&gt; <span class="built_in">void</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面定义了一个人的接口，使用如下</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">user</span>:<span class="title class_">PeosonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>，</span><br><span class="line">    <span class="attr">gender</span>:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">    <span class="title function_">run</span>(<span class="params">n:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`跑了<span class="subst">$&#123;n&#125;</span>米`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口定义函数"><a href="#接口定义函数" class="headerlink" title="接口定义函数"></a>接口定义函数</h2><p>当你需要定义一个函数的类型时，可以使用接口来描述这个<strong>函数应该接受什么样的参数以及返回什么样的值</strong>。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">SearchFunc</span> &#123;</span><br><span class="line">    (<span class="attr">source</span>: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//下面就来实现该接口</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mySearch</span>: <span class="title class_">SearchFunc</span> = <span class="keyword">function</span> (<span class="params">src: <span class="built_in">string</span>, sub: <span class="built_in">string</span></span>):<span class="built_in">boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> src.<span class="title function_">search</span>(sub) !== -<span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="接口可以继承接口"><a href="#接口可以继承接口" class="headerlink" title="接口可以继承接口"></a>接口可以继承接口</h2><p>比如说</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我还有一个接口</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//让班级接口继承学生接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Grade</span> <span class="keyword">extends</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">grade</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240914110837142.png" alt="image-20240914110837142"></p>
<p>可以看到，也就是s1这个对象中，必须有Student接口的属性和Grade接口的属性，缺一不可。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240914110937745.png" alt="image-20240914110937745"></p>
<h2 id="接口自动合并"><a href="#接口自动合并" class="headerlink" title="接口自动合并"></a>接口自动合并</h2><p>接口可以进行重复定义：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//还可以再次定义一个同名接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">gender</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最终使用该接口时，就要求包含这三个属性，也就是说底层认为，你定义了一个接口</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span>,</span><br><span class="line">    <span class="attr">gender</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="何时使用接口？"><a href="#何时使用接口？" class="headerlink" title="何时使用接口？"></a>何时使用接口？</h2><ol>
<li>定义对象的格式：描述数据、API响应格式、配置对象等等…..开发常用</li>
<li>类的契约：规定一个类中需要哪些属性和方法，以及他们的类型</li>
<li>自动合并：拓展第三方库的类型。</li>
</ol>
<h1 id="区分一些相似概念"><a href="#区分一些相似概念" class="headerlink" title="区分一些相似概念"></a>区分一些相似概念</h1><h2 id="interface和type的区别"><a href="#interface和type的区别" class="headerlink" title="interface和type的区别"></a>interface和type的区别</h2><ul>
<li>相同点：interface和type都可以用于定义对象结构，在许多场景中可以互换</li>
<li>不同：<ul>
<li>interface：更专注于<strong>对象和类</strong>的结构，能够继承和自动合并</li>
<li>type：可以<strong>定义类型别名、联合类型、交叉类型</strong>，不支持继承和自动合并</li>
</ul>
</li>
</ul>
<h2 id="interface和抽象类的区别"><a href="#interface和抽象类的区别" class="headerlink" title="interface和抽象类的区别"></a>interface和抽象类的区别</h2><ul>
<li>都用于定义一个类的格式(应该遵守的规则)</li>
<li>不同点：<ul>
<li>接口：只能描述类的接口，不能有任何实现代码，<strong>一个类可以实现(implements)多个接口</strong></li>
<li>抽象类：既可以包含抽象方法，也可以包含具体方法，<strong>一个类只能继承(extends)一个抽象类</strong></li>
</ul>
</li>
</ul>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><p>泛型允许我们在<strong>定义函数、类、接口时</strong>，使用类型参数来表示<strong>未指定的类型</strong>，这些参数在具体<strong>使用</strong>时，才被指定为<strong>具体的类型</strong>，泛型能让<strong>同一段代码适用多种类型</strong>，同时任然保持类型的安全性。我们用<code>&lt;&gt;</code>来表示泛型。</p>
<h2 id="泛型函数"><a href="#泛型函数" class="headerlink" title="泛型函数"></a>泛型函数</h2><p>举例：比如在一个函数中：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型举例</span></span><br><span class="line"><span class="keyword">function</span> printData&lt;T&gt;(<span class="attr">params</span>:T)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用时在具体指定具体类型</span></span><br><span class="line">printData&lt;<span class="built_in">number</span>&gt;(<span class="number">10</span>);</span><br><span class="line">printData&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;father&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>泛型函数可以有多个</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> logData&lt;T,U&gt;(<span class="attr">params1</span>:T,<span class="attr">params2</span>:U)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params1);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//多个</span></span><br><span class="line">logData&lt;<span class="built_in">string</span>,<span class="built_in">number</span>&gt;(<span class="string">&#x27;hello&#x27;</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h2 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h2><p>泛型接口也很好理解：关键在于使用时在具体指定类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>,</span><br><span class="line">    <span class="attr">extraInfo</span>: T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在具体使用时传入具体类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">IPerson</span>&lt;<span class="built_in">number</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小李&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">extraInfo</span>: <span class="number">10</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> jobInfo = &#123;</span><br><span class="line">    <span class="attr">title</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">company</span>:<span class="built_in">string</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在具体使用时传入具体类型</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>:<span class="title class_">IPerson</span>&lt;jobInfo&gt; = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;小三&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">21</span>,</span><br><span class="line">    <span class="attr">extraInfo</span>:&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;高级工程师&#x27;</span>,</span><br><span class="line">        <span class="attr">company</span>:<span class="string">&#x27;小米&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h2><p>泛型类：任旧是在具体使用时传入具体类型</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> jobInfo = &#123;</span><br><span class="line">    <span class="attr">title</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">company</span>:<span class="built_in">string</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//泛型类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> name:<span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> age:<span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> extraInfo:T</span></span><br><span class="line"><span class="params">    </span>)&#123;&#125;</span><br><span class="line">        <span class="comment">//类方法</span></span><br><span class="line">        <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我叫<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁`</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">extraInfo</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体实现</span></span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Person</span>&lt;jobInfo&gt;(<span class="string">&#x27;小五&#x27;</span>,<span class="number">30</span>,&#123;<span class="attr">title</span>:<span class="string">&#x27;高级软件开发工程师&#x27;</span>,<span class="attr">company</span>:<span class="string">&#x27;小米公司&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="类型声明文件"><a href="#类型声明文件" class="headerlink" title="类型声明文件"></a>类型声明文件</h1><p>在TypeScript中，类型声明文件是用来定义类型信息的特殊文件。这些文件通常用于描述非TypeScript代码（如JavaScript库）的类型结构，或者为项目中的其他部分<strong>提供类型信息</strong>而不包含任何实现逻辑。类型声明文件通常以<code>.d.ts</code>扩展名结尾，表示“declaration”文件。</p>
<h2 id="类型声明文件的作用"><a href="#类型声明文件的作用" class="headerlink" title="类型声明文件的作用"></a>类型声明文件的作用</h2><ul>
<li><strong>提高开发体验</strong>：通过提供类型信息，可以增强IDE的功能，如智能提示、自动补全等。</li>
<li><strong>确保类型安全</strong>：当项目使用了类型声明文件后，TypeScript编译器可以在编译阶段检查类型兼容性，提前发现潜在错误。</li>
<li><strong>简化API使用</strong>：良好的类型定义可以帮助开发者更快地理解第三方库或模块的API，从而更方便地使用它们。</li>
</ul>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><p>类型声明文件可以包含以下元素：</p>
<ul>
<li><strong>接口（Interfaces）</strong>：定义对象的形状。</li>
<li><strong>类型别名（Type Aliases）</strong>：定义复杂类型的别名。</li>
<li><strong>类类型（Class Types）</strong>：描述类的静态成员和实例成员。</li>
<li><strong>函数类型（Function Types）</strong>：定义函数参数和返回值的类型。</li>
<li><strong>变量声明（Variable Declarations）</strong>：声明全局变量或模块作用域内的变量。</li>
<li><strong>模块声明（Module Declarations）</strong>：描述全局模块或命名空间。</li>
<li><strong>命名空间（Namespaces）</strong>：组织相关类型。</li>
<li><strong>枚举（Enums）</strong>：定义一组命名常量。</li>
<li><strong>导入&#x2F;导出（Imports&#x2F;Exports）</strong>：从其他模块导入类型或向其他模块导出类型。</li>
</ul>
<h1 id="TypeScript装饰器"><a href="#TypeScript装饰器" class="headerlink" title="TypeScript装饰器"></a>TypeScript装饰器</h1><ul>
<li>装饰器的本质是一种特殊的函数，它可以对：类、属性、方法、参数进行拓展，同时让代码更简洁。</li>
<li>装饰器自2015年在<code>ES6</code>中被提出到现在，已经10年。</li>
<li>截止目前，装饰器依然是实验性特性，需开发者手动调整配置，来开启装饰器。</li>
<li>装饰器有5种：<ul>
<li>类装饰器</li>
<li>属性装饰器</li>
<li>方法装饰器</li>
<li>访问器装饰器</li>
<li>参数装饰器</li>
</ul>
</li>
</ul>
<h2 id="类装饰器"><a href="#类装饰器" class="headerlink" title="类装饰器"></a>类装饰器</h2><p>类装饰器是一个应用在类声明上的函数，可以为类添加额外功能，或添加额外逻辑。</p>
<p>基本语法</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类装饰器 - 本质是一个函数</span></span><br><span class="line"><span class="comment">//Demo函数会在Person类定义时执行，参数target就是被装饰的类 - Person</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target: <span class="built_in">Function</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Demo</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类装饰器应用举例"><a href="#类装饰器应用举例" class="headerlink" title="类装饰器应用举例"></a>类装饰器应用举例</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类装饰器 - 本质是一个函数</span></span><br><span class="line"><span class="comment">//Demo函数会在Person类定义时执行，参数target就是被装饰的类 - Person</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target: <span class="built_in">Function</span></span>) &#123;</span><br><span class="line">    target.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//注意这里传递的是实例对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Demo</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p4 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p4.<span class="title function_">toString</span>()); <span class="comment">//&#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:20&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="关于装饰器的返回值"><a href="#关于装饰器的返回值" class="headerlink" title="关于装饰器的返回值"></a>关于装饰器的返回值</h3><ul>
<li>如果装饰器有返回值，且返回值是一个类，那么<strong>返回值的类会代替被装饰器装饰的类。</strong></li>
<li>如果装饰器没有返回值或返回<code>undefined</code>，那装饰器的类不会被替换。</li>
</ul>
<p><strong>未启用装饰器</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> &#123;</span><br><span class="line">        <span class="title function_">test2</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">200</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">300</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">400</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//@test</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Demo</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>控制台：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240914170810053.png" alt="image-20240914170810053"></p>
<p><strong>启动装饰器</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">target:<span class="built_in">Function</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> &#123;</span><br><span class="line">        <span class="title function_">test2</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">200</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">300</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">400</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @ts-ignore</span></span><br><span class="line"><span class="meta">@test</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">100</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Demo</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>控制台：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240914171025917.png" alt="image-20240914171025917"></p>
<h3 id="关于构造类型"><a href="#关于构造类型" class="headerlink" title="关于构造类型"></a>关于构造类型</h3><ol>
<li><p>声明<strong>构造类型</strong></p>
<ul>
<li>new: 表示该类型可以使用new操作符调用。</li>
<li>…args：表示该类型可以接受任何数量的参数</li>
<li>any[]：表示该类型可以接受任意类型的参数。</li>
<li>{} ：表示返回的是一对象类型（非null，非undefined）</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明构造类型</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    new: 表示该类型可以使用new操作符调用。</span></span><br><span class="line"><span class="comment">    ...args：表示该类型可以接受任何数量的参数。</span></span><br><span class="line"><span class="comment">    any[]：表示该类型可以接受任意类型的参数。</span></span><br><span class="line"><span class="comment">    &#123;&#125; ：表示返回的是一对象类型（非null，非undefined）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Constructor</span> = <span class="keyword">new</span> (...<span class="attr">args</span>:<span class="built_in">any</span>[]) =&gt; &#123;&#125;</span><br><span class="line"><span class="comment">//使用构造类型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">fn:Constructor</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(fn);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PersonTest</span>&#123;</span><br><span class="line">    <span class="comment">//必须要有静态属性wife</span></span><br><span class="line">    <span class="keyword">static</span> <span class="attr">wife</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以传递因为类符合上述类型条件</span></span><br><span class="line"><span class="title function_">test</span>(<span class="title class_">PersonTest</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明构造类型的同时还能规定<strong>静态属性</strong></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Constructor</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> (...<span class="attr">args</span>:<span class="built_in">any</span>[]):&#123;&#125;,</span><br><span class="line">    <span class="attr">wife</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用构造类型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">fn:Constructor</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(fn);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PersonTest</span>&#123;</span><br><span class="line">    <span class="comment">//必须要有静态属性wife</span></span><br><span class="line">    <span class="keyword">static</span> <span class="attr">wife</span>:<span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>这段代码的意思是</p>
<p>定义了一个类型别名 <code>Constructor</code>，它实际上是一个接口，描述了一个构造函数的要求。这个构造函数应该能够接受任意数量的参数（由 <code>...args:any[]</code> 表示的 rest 参数），并且能够返回一个对象 <code>&#123;&#125;</code>。此外，还要求这个构造函数本身具有一个名为 <code>wife</code> 的字符串属性。</p>
<h3 id="替换被装饰的类"><a href="#替换被装饰的类" class="headerlink" title="替换被装饰的类"></a>替换被装饰的类</h3><p>可以看到，不仅获得原来类的属性，同时也新添加了一些新的属性和方法。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@logTime</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> age:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;随便打印点什么&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="comment">//声明一个函数，它的返回值是void</span></span><br><span class="line">    <span class="attr">getCreateTime</span>:<span class="function">()=&gt;</span> <span class="built_in">void</span></span><br><span class="line">    <span class="title function_">getCreateTime</span>():<span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用类装饰器来替换这个类，要求保留该类所有内容，并新添加一些内容</span></span><br><span class="line"><span class="comment">//构造类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Constructor</span> = <span class="keyword">new</span> (...<span class="attr">args</span>: <span class="built_in">any</span>[]) =&gt; &#123;&#125;</span><br><span class="line"><span class="keyword">function</span> logTime&lt;T <span class="keyword">extends</span> <span class="title class_">Constructor</span>&gt;(<span class="attr">target</span>:T)&#123;</span><br><span class="line">    <span class="comment">//这里返回User类</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> <span class="title class_">extends</span> target &#123;</span><br><span class="line">        <span class="comment">//这里定义返回的新的类中独有的属性</span></span><br><span class="line">        <span class="attr">createTime</span>:<span class="title class_">Date</span></span><br><span class="line">        <span class="comment">//使用构造器，来接住原本类中的属性</span></span><br><span class="line">        <span class="title function_">constructor</span>(<span class="params">...args: <span class="built_in">any</span>[]</span>)&#123;</span><br><span class="line">            <span class="variable language_">super</span>(...args)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">createTime</span> = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">getCreateTime</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`当前的时间是<span class="subst">$&#123;<span class="variable language_">this</span>.createTime&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p5.<span class="title function_">getCreateTime</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="装饰器工厂"><a href="#装饰器工厂" class="headerlink" title="装饰器工厂"></a>装饰器工厂</h3><p>所谓的装饰器工厂：声明一个函数，该函数的返回值是一个装饰器，即装饰器工厂。该写法可以给装饰传递参数。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//装饰器工厂：声明一个函数，该函数的返回值是一个装饰器，即装饰器工厂。</span></span><br><span class="line"><span class="meta">@createDec</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span></span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span>,age:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name,</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;会说话&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//装饰器工厂 - 返回一个装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createDec</span>(<span class="params">n:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target:<span class="built_in">Function</span></span>) &#123;</span><br><span class="line">        <span class="comment">//在类的原型对象上添加一个方法</span></span><br><span class="line">        target.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">introduce</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`你好，我叫<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,今年<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>岁`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">introduce</span>(): <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br><span class="line">p5.<span class="title function_">introduce</span>() <span class="comment">//3次输出： 你好，我叫张三,今年20岁</span></span><br></pre></td></tr></table></figure>

<h3 id="装饰器组合"><a href="#装饰器组合" class="headerlink" title="装饰器组合"></a>装饰器组合</h3><p>装饰器组合使用，执行顺序是：<strong>先</strong> [<strong>由上到下</strong>] 执行装饰器工厂，获取到装饰器后，<strong>再</strong>[<strong>由下到上</strong>]执行所有装饰器</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params">target:<span class="built_in">Function</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test1&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//装饰器工厂</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;test2工厂&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target:<span class="built_in">Function</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test2&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//装饰器工厂</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;test3工厂&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target:<span class="built_in">Function</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test3&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test4</span>(<span class="params">target:<span class="built_in">Function</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;test4&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@test1</span></span><br><span class="line"><span class="meta">@test2</span>()</span><br><span class="line"><span class="meta">@test3</span>()</span><br><span class="line"><span class="meta">@test4</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person5</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>测试结果如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240914205743860.png" alt="image-20240914205743860"></p>
<h2 id="属性装饰器"><a href="#属性装饰器" class="headerlink" title="属性装饰器"></a>属性装饰器</h2><p>属性装饰器也是一个函数，他会收到两个参数，第一个参数会因为修饰的属性而改变，第二个参数是修饰的属性</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logProperty</span>(<span class="params">target: <span class="built_in">object</span>, propertyName: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(propertyName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@logProperty</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="meta">@logProperty</span> <span class="keyword">static</span> <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;Alice&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>如果属性装饰器修饰的是实例属性，那么target这个参数指的是该类的原型对象。</li>
<li>如果属性装饰器修饰的是静态属性，那么target这个参数指的是这个类本身</li>
</ul>
<p>图示：</p>
<p>xxxxxxxxxx &#x2F;* 约束屏幕尺寸 *&#x2F;@media screen and (max-width: 1024px) {  html {    font-size: 42px !important;  }}@media screen and (min-width: 1920px) {  html {    font-size: 80px !important;  }}css</p>
<h3 id="关于属性遮蔽问题"><a href="#关于属性遮蔽问题" class="headerlink" title="关于属性遮蔽问题"></a>关于属性遮蔽问题</h3><p>  简单说明一下这个问题：问题就是：代码执行顺序</p>
<ul>
<li>如果我们先进行实例化<code>const p5 = new User(&#39;张三&#39;,20);</code>那么在类的实例属性上就会存在age属性，那么这时去修改age属性是不会触发原型对象上的get和set函数的。</li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">     <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">     <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>,age:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="comment">//要在原型对象上追加一个属性 age</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">value</span>:<span class="built_in">any</span>;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`新值是<span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">        value = val</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>如果我们先在类的原型对象上添加一个实例属性<code>age</code>的话，然后再实例化类，这时就会去调用构造器，执行<code>this.age = age</code>，但是实例上还没有age这个属性，接下来就沿着原型链去原型对象上查找，此时发现原型对象中存在age属性，且值为30，于是就把原型对象上的age属性交给了实例对象的age属性。那么实际上就相当于，<strong>当我们修改实例对象的age属性时，其实是修改的原型对象上的age属性。</strong></li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">     <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">     <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>,age:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//要在原型对象上追加一个属性 age</span></span><br><span class="line"><span class="keyword">let</span> value = <span class="number">30</span>;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`新值是<span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">        value = val</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h3 id="属性装饰器的应用举例"><a href="#属性装饰器的应用举例" class="headerlink" title="属性装饰器的应用举例"></a>属性装饰器的应用举例</h3><p>场景：封装一个监视性的装饰器State来监视某个属性，当其发生变化时，打印变化的值。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">State</span>(<span class="params">target: <span class="built_in">object</span>, propertyName: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="comment">//我们就在其原型对象上追加一个age属性</span></span><br><span class="line">    <span class="keyword">let</span> key = <span class="string">`_<span class="subst">$&#123;propertyName&#125;</span>`</span>;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target,propertyName,&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[key]; <span class="comment">//也是添加属性，只不过是通过键的方式来访问某个属性</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`age属性被修改了，修改后的值是<span class="subst">$&#123;newValue&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>[key] = newValue;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">enumerable</span>:<span class="literal">true</span>, <span class="comment">//是否可枚举</span></span><br><span class="line">        <span class="attr">configurable</span>:<span class="literal">true</span>, <span class="comment">//是否可配置</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">     <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="meta">@State</span> <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>,age:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>);</span><br><span class="line"><span class="keyword">const</span> p6 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;李三&#x27;</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h2 id="方法装饰器"><a href="#方法装饰器" class="headerlink" title="方法装饰器"></a>方法装饰器</h2><p>方法装饰器依旧是一个函数，具体如下：</p>
<p>当我们装饰一个<strong>类的实例方法</strong>时：</p>
<ul>
<li>target：是被装饰方法所在类的原型对象</li>
<li>propertyKey：被装饰的方法的方法名</li>
<li>descriptor：被装饰方法的描述</li>
</ul>
<p>图示：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240915103426810.png" alt="image-20240915103426810"></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target:<span class="built_in">object</span>,propertyKey:<span class="built_in">string</span>,descriptor:PropertyDescriptor</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(propertyKey);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(descriptor);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法修饰器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> age:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    <span class="meta">@Demo</span></span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;说点什么&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我学会跑路了`</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我们装饰一个<strong>类的静态方法</strong>时：</p>
<ul>
<li>target：是被装饰方法所在的类。</li>
<li>propertyKey：被装饰的方法的方法名</li>
<li>descriptor：被装饰方法的描述</li>
</ul>
<p>图示：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240915103532506.png" alt="image-20240915103532506"></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target:<span class="built_in">object</span>,propertyKey:<span class="built_in">string</span>,descriptor:PropertyDescriptor</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(propertyKey);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(descriptor);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法修饰器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> age:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;说点什么&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Demo</span></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我学会跑路了`</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="方法装饰器的应用"><a href="#方法装饰器的应用" class="headerlink" title="方法装饰器的应用"></a>方法装饰器的应用</h3><p>能够实现：在方法调用前执行一些逻辑，在方法调用后执行一些逻辑。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target:<span class="built_in">object</span>,propertyKey:<span class="built_in">string</span>,descriptor:PropertyDescriptor</span>)&#123;</span><br><span class="line">    <span class="comment">//1.保存原始方法</span></span><br><span class="line">    <span class="keyword">const</span> originnal = descriptor.<span class="property">value</span>;</span><br><span class="line">    <span class="comment">//2.替换原始方法</span></span><br><span class="line">    descriptor.<span class="property">value</span> = <span class="keyword">function</span>(<span class="params">...args:<span class="built_in">any</span>[]</span>)&#123;</span><br><span class="line">        <span class="comment">//函数执行前执行的逻辑</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;propertyKey&#125;</span>方法开始执行..........`</span>);</span><br><span class="line">        <span class="comment">//调用原始函数，注意千万不能丢了this的指向，这里推荐使用call或者apply来调用函数</span></span><br><span class="line">        originnal.<span class="title function_">call</span>(<span class="variable language_">this</span>,...args)</span><br><span class="line">        <span class="comment">//函数执行后执行的逻辑</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;propertyKey&#125;</span>方法结束执行..........`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法修饰器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> age:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    <span class="meta">@Demo</span></span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;说点什么&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我学会跑路了`</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;张三&#x27;</span>,<span class="number">20</span>)</span><br><span class="line">p5.<span class="title function_">speak</span>() </span><br></pre></td></tr></table></figure>

<p>控制台输出</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240915104747430.png" alt="image-20240915104747430"></p>
<h2 id="访问器装饰器"><a href="#访问器装饰器" class="headerlink" title="访问器装饰器"></a>访问器装饰器</h2><p>访问器装饰器是装饰类中的get和set方法的一种装饰器。</p>
<p>参数说明：</p>
<ul>
<li><p>target：</p>
<ul>
<li>对于实例中的访问器来说，target指的是该访问器所属的原型对象。</li>
<li>对于静态访问器来说，target指的是该访问器所属的类</li>
</ul>
</li>
<li><p>propertyKey：属性访问器的名称</p>
</li>
<li><p>descriptor：属性访问器的描述。</p>
</li>
</ul>
<p>基本语法：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">target:<span class="built_in">object</span>,propertyKey:<span class="built_in">string</span>,descriptor:PropertyDescriptor</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(propertyKey);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(descriptor);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> _age:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;说点什么&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`我学会跑路了`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Demo</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">age</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_age</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">age</span>(<span class="params">val</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = val</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="访问器装饰器举例"><a href="#访问器装饰器举例" class="headerlink" title="访问器装饰器举例"></a>访问器装饰器举例</h3><p>给set加一个限制，表示我们不能随意设置任意值。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//为了能传递参数，这里我们使用装饰器工厂</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Demo</span>(<span class="params">min:<span class="built_in">number</span>,max:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target:<span class="built_in">object</span>,propertyKey:<span class="built_in">string</span>,descriptor:PropertyDescriptor</span>)&#123;</span><br><span class="line">        <span class="comment">//保存原来类中的set</span></span><br><span class="line">        <span class="keyword">const</span> originnal = descriptor.<span class="property">set</span>;</span><br><span class="line">        <span class="comment">//给现在的set换新逻辑</span></span><br><span class="line">        descriptor.<span class="property">set</span> = <span class="keyword">function</span>(<span class="params">value:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(value &gt; max || value &lt; min)&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`您设置的值应该在<span class="subst">$&#123;min&#125;</span> 和 <span class="subst">$&#123;max&#125;</span>`</span>);</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;您设置的数值不在范围内&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果有set，那么我们调用set。</span></span><br><span class="line">            <span class="keyword">if</span>(originnal) originnal.<span class="title function_">call</span>(<span class="variable language_">this</span>,value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//方法修饰器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name:<span class="built_in">string</span>,<span class="keyword">public</span> _temp:<span class="built_in">number</span></span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">temp</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_temp</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Demo</span>(-<span class="number">50</span>,<span class="number">50</span>)</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">temp</span>(<span class="params">val</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_temp</span> = val</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p5 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;小李&#x27;</span>,<span class="number">90</span>)</span><br><span class="line">p5.<span class="property">temp</span> = -<span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p5.<span class="property">_temp</span>); <span class="comment">//您设置的数值不在范围内</span></span><br></pre></td></tr></table></figure>

<h2 id="参数装饰器"><a href="#参数装饰器" class="headerlink" title="参数装饰器"></a>参数装饰器</h2><p>在 TypeScript 中，参数装饰器是一种特殊类型的装饰器，它们应用于类的方法或构造函数的<strong>参数</strong>声明。当在方法或构造函数的参数前使用装饰器时，这些装饰器即为参数装饰器。参数装饰器接收三个参数：</p>
<ol>
<li>对于<strong>类的方法</strong>来说，第一个参数是 <code>target</code>（原型对象）。</li>
<li>第二个参数是方法的 <code>propertyKey</code>（即方法名）。</li>
<li>第三个参数是索引签名，表示被装饰的参数的位置（从0开始计数）。</li>
</ol>
<p>下面是一个简单的例子，展示了如何使用参数装饰器：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数装饰器</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">required</span>(<span class="params">target: <span class="built_in">any</span>, propertyKey: <span class="built_in">string</span> | <span class="built_in">symbol</span>, parameterIndex: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Called with target: <span class="subst">$&#123;target&#125;</span>, propertyKey: <span class="subst">$&#123;propertyKey&#125;</span>, parameterIndex: <span class="subst">$&#123;parameterIndex&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Greeter</span> &#123;</span><br><span class="line">    <span class="title function_">greet</span>(<span class="params"><span class="meta">@required</span> name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span> + name + <span class="string">&quot;!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> greeter = <span class="keyword">new</span> <span class="title class_">Greeter</span>();</span><br><span class="line">greeter.<span class="title function_">greet</span>(<span class="string">&quot;World&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>@required</code> 被用作 <code>greet</code> 方法中 <code>name</code> 参数的装饰器。每次创建 <code>Greeter</code> 实例并调用其 <code>greet</code> 方法时，<code>required</code> 装饰器就会被调用，并打印出装饰器接收到的信息。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../images/TypeScript/image-20240915114010933.png" alt="image-20240915114010933"></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/touxiang.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/touxiang.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">LiSir</div><div class="post-copyright__author_desc">心怀远方</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/09/02/TypeScript/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/09/02/TypeScript/')">TypeScript</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/09/02/TypeScript/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=TypeScript&amp;url=http://example.com/2024/09/02/TypeScript/&amp;pic=/img/default_cover.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">LiSir</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/TypeScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>TypeScript<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/img/default_cover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">移动端开发+less+BSP</div></div></a></div><div class="next-post pull-right"><a href="/2024/09/04/%E9%A1%B9%E7%9B%AEAI%E7%BB%98%E7%94%BB%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">项目AI绘画开发总结</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86TypeScript"><span class="toc-number">1.</span> <span class="toc-text">认识TypeScript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3TS"><span class="toc-number">1.1.</span> <span class="toc-text">了解TS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85TS"><span class="toc-number">1.2.</span> <span class="toc-text">安装TS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%BF%90%E8%A1%8CTS%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">简单运行TS文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E7%BC%96%E8%AF%91TypeScript"><span class="toc-number">1.4.</span> <span class="toc-text">自动化编译TypeScript</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">2.</span> <span class="toc-text">类型声明</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD"><span class="toc-number">3.</span> <span class="toc-text">类型推断</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD%E7%AE%80%E4%BB%8B"><span class="toc-number">3.1.</span> <span class="toc-text">TypeScript类型推断简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-number">3.1.1.</span> <span class="toc-text">1. 变量声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">3.1.2.</span> <span class="toc-text">2. 函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">3.1.3.</span> <span class="toc-text">3. 函数返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%B0%E7%BB%84"><span class="toc-number">3.1.4.</span> <span class="toc-text">4. 数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">3.1.5.</span> <span class="toc-text">5. 对象字面量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.2.</span> <span class="toc-text">注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E5%BC%8F%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E-vs-%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD"><span class="toc-number">3.2.1.</span> <span class="toc-text">显式类型声明 vs 类型推断</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%80%BB%E8%A7%88"><span class="toc-number">4.</span> <span class="toc-text">类型总览</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">JavaScript数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.2.</span> <span class="toc-text">TypeScript数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">4.3.</span> <span class="toc-text">注意点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B-VS-%E5%8C%85%E8%A3%85%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.1.</span> <span class="toc-text">原始类型 VS 包装对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1"><span class="toc-number">4.3.2.</span> <span class="toc-text">自动装箱</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">5.</span> <span class="toc-text">类型断言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80%EF%BC%9F"><span class="toc-number">5.1.</span> <span class="toc-text">什么是类型断言？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">5.2.</span> <span class="toc-text">使用场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%AD%E8%A8%80%E8%AF%AD%E6%B3%95"><span class="toc-number">5.3.</span> <span class="toc-text">断言语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">5.4.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">5.5.</span> <span class="toc-text">注意事项</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.</span> <span class="toc-text">常用类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#any"><span class="toc-number">6.1.</span> <span class="toc-text">any</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unknown"><span class="toc-number">6.2.</span> <span class="toc-text">unknown</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#never"><span class="toc-number">6.3.</span> <span class="toc-text">never</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#void"><span class="toc-number">6.4.</span> <span class="toc-text">void</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#object%E5%92%8CObject"><span class="toc-number">6.5.</span> <span class="toc-text">object和Object</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%93%E5%B1%951%EF%BC%9A%E5%A3%B0%E6%98%8E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.5.0.1.</span> <span class="toc-text">拓展1：声明对象类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%93%E5%B1%952%EF%BC%9A%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.5.0.2.</span> <span class="toc-text">拓展2：声明函数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%93%E5%B1%953%EF%BC%9A%E5%A3%B0%E6%98%8E%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.5.0.3.</span> <span class="toc-text">拓展3：声明数组类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple"><span class="toc-number">6.6.</span> <span class="toc-text">tuple</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#enum"><span class="toc-number">6.7.</span> <span class="toc-text">enum</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E6%9E%9A%E4%B8%BE"><span class="toc-number">6.7.1.</span> <span class="toc-text">数字枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%9A%E4%B8%BE"><span class="toc-number">6.7.2.</span> <span class="toc-text">字符串枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E6%9E%9A%E4%B8%BE"><span class="toc-number">6.7.3.</span> <span class="toc-text">常量枚举</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#type"><span class="toc-number">6.8.</span> <span class="toc-text">type</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">6.8.1.</span> <span class="toc-text">1. 基础类型定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.8.2.</span> <span class="toc-text">2. 联合类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.8.3.</span> <span class="toc-text">3. 交叉类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D%E4%B8%8E%E6%8E%A5%E5%8F%A3"><span class="toc-number">6.8.4.</span> <span class="toc-text">4. 类型别名与接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E7%89%B9%E6%AE%8A%E5%86%B5%E6%83%85%E5%86%B5"><span class="toc-number">6.8.5.</span> <span class="toc-text">一个特殊况情况</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#case1%EF%BC%9A%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%90%8C%E6%97%B6%E9%99%90%E5%88%B6%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%BAvoid"><span class="toc-number">6.8.5.1.</span> <span class="toc-text">case1：声明函数的同时限制返回值类型为void</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#case2%EF%BC%9A%E5%85%88%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%A3%B0%E6%98%8E%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BAvoid%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E5%88%A9%E7%94%A8%E5%8F%98%E9%87%8F%E5%8E%BB%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E3%80%82"><span class="toc-number">6.8.5.2.</span> <span class="toc-text">case2：先定义函数的类型和声明返回值为void，然后再利用变量去声明函数。</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="toc-number">7.</span> <span class="toc-text">类相关知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%9F%BA%E6%9C%AC%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">7.1.</span> <span class="toc-text">最基本类的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">7.2.</span> <span class="toc-text">类的继承</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">8.</span> <span class="toc-text">属性修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F"><span class="toc-number">8.1.</span> <span class="toc-text">属性的简写形式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">9.</span> <span class="toc-text">抽象类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%A6%82%E5%BF%B5"><span class="toc-number">9.1.</span> <span class="toc-text">抽象类概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">9.2.</span> <span class="toc-text">抽象类的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%9F"><span class="toc-number">9.3.</span> <span class="toc-text">何时使用抽象类？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#interface%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.</span> <span class="toc-text">interface接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-number">10.1.</span> <span class="toc-text">接口定义类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1"><span class="toc-number">10.2.</span> <span class="toc-text">接口定义对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">10.3.</span> <span class="toc-text">接口定义函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%8F%AF%E4%BB%A5%E7%BB%A7%E6%89%BF%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.4.</span> <span class="toc-text">接口可以继承接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%90%88%E5%B9%B6"><span class="toc-number">10.5.</span> <span class="toc-text">接口自动合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8%E6%8E%A5%E5%8F%A3%EF%BC%9F"><span class="toc-number">10.6.</span> <span class="toc-text">何时使用接口？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%BA%E5%88%86%E4%B8%80%E4%BA%9B%E7%9B%B8%E4%BC%BC%E6%A6%82%E5%BF%B5"><span class="toc-number">11.</span> <span class="toc-text">区分一些相似概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%92%8Ctype%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">11.1.</span> <span class="toc-text">interface和type的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">11.2.</span> <span class="toc-text">interface和抽象类的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">12.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0"><span class="toc-number">12.1.</span> <span class="toc-text">泛型函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">12.2.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">12.3.</span> <span class="toc-text">泛型类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span class="toc-number">13.</span> <span class="toc-text">类型声明文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">13.1.</span> <span class="toc-text">类型声明文件的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">13.2.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TypeScript%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.</span> <span class="toc-text">TypeScript装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.1.</span> <span class="toc-text">类装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">14.1.1.</span> <span class="toc-text">类装饰器应用举例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">14.1.2.</span> <span class="toc-text">关于装饰器的返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%9E%84%E9%80%A0%E7%B1%BB%E5%9E%8B"><span class="toc-number">14.1.3.</span> <span class="toc-text">关于构造类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E8%A2%AB%E8%A3%85%E9%A5%B0%E7%9A%84%E7%B1%BB"><span class="toc-number">14.1.4.</span> <span class="toc-text">替换被装饰的类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E5%B7%A5%E5%8E%82"><span class="toc-number">14.1.5.</span> <span class="toc-text">装饰器工厂</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%BB%84%E5%90%88"><span class="toc-number">14.1.6.</span> <span class="toc-text">装饰器组合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.2.</span> <span class="toc-text">属性装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%B1%9E%E6%80%A7%E9%81%AE%E8%94%BD%E9%97%AE%E9%A2%98"><span class="toc-number">14.2.1.</span> <span class="toc-text">关于属性遮蔽问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">14.2.2.</span> <span class="toc-text">属性装饰器的应用举例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.3.</span> <span class="toc-text">方法装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">14.3.1.</span> <span class="toc-text">方法装饰器的应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%99%A8%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.4.</span> <span class="toc-text">访问器装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%99%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E4%B8%BE%E4%BE%8B"><span class="toc-number">14.4.1.</span> <span class="toc-text">访问器装饰器举例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">14.5.</span> <span class="toc-text">参数装饰器</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/30/npcp%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/" title="无题">无题</a><time datetime="2024-12-30T07:59:57.631Z" title="发表于 2024-12-30 15:59:57">2024-12-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/02/SpringBoot%E5%AD%A6%E4%B9%A0/" title="SpringBoot学习">SpringBoot学习</a><time datetime="2024-11-02T13:02:07.000Z" title="发表于 2024-11-02 21:02:07">2024-11-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/10/05/Electron%E6%A1%86%E6%9E%B6/" title="Electron框架">Electron框架</a><time datetime="2024-10-05T02:35:30.000Z" title="发表于 2024-10-05 10:35:30">2024-10-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/28/%E5%9F%BA%E4%BA%8EEcharts%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" title="基于Echarts的数据可视化">基于Echarts的数据可视化</a><time datetime="2024-09-28T03:38:32.000Z" title="发表于 2024-09-28 11:38:32">2024-09-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/22/%E9%9D%A2%E8%AF%95%E3%80%81%E7%AC%94%E8%AF%95%E6%80%BB%E7%BB%93/" title="面试、笔试总结">面试、笔试总结</a><time datetime="2024-09-22T06:21:48.190Z" title="发表于 2024-09-22 14:21:48">2024-09-22</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="LiSir" target="_blank">LiSir</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">3</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://newerproduct.github.io/" title="我的博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/touxiang.jpg" alt="我的博客"/><span class="back-menu-item-text">我的博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="鱼图床"/><span class="back-menu-item-text">鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Eacharts/" style="font-size: 0.88rem;">Eacharts<sup>1</sup></a><a href="/tags/Electron/" style="font-size: 0.88rem;">Electron<sup>1</sup></a><a href="/tags/HTML-CSS/" style="font-size: 0.88rem;">HTML,CSS<sup>1</sup></a><a href="/tags/JS/" style="font-size: 0.88rem;">JS<sup>1</sup></a><a href="/tags/Java%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">Java学习<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 0.88rem;">TypeScript<sup>1</sup></a><a href="/tags/git%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">git学习<sup>1</sup></a><a href="/tags/jQuery/" style="font-size: 0.88rem;">jQuery<sup>1</sup></a><a href="/tags/java%E5%92%8Cvue%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%94%99%E8%AF%AF%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E6%94%B9%E6%AD%A3%E5%92%8C%E5%AF%B9%E4%BB%96%E4%BB%AC%E7%9A%84%E7%90%86%E8%A7%A3%E6%95%B4%E7%90%86-%E5%8F%82%E5%8A%A0%E7%9A%84%E9%A1%B9%E7%9B%AE/" style="font-size: 0.88rem;">java和vue开发中遇到的错误以及如何改正和对他们的理解整理(参加的项目)<sup>1</sup></a><a href="/tags/js-node-js/" style="font-size: 0.88rem;">js-node.js<sup>1</sup></a><a href="/tags/jwt-%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81-cookie/" style="font-size: 0.88rem;">jwt,身份认证,cookie<sup>1</sup></a><a href="/tags/nginx%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">nginx学习<sup>1</sup></a><a href="/tags/uni-app%E6%A1%86%E6%9E%B6/" style="font-size: 0.88rem;">uni-app框架<sup>1</sup></a><a href="/tags/vue-js/" style="font-size: 0.88rem;">vue.js<sup>1</sup></a><a href="/tags/vue-js%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">vue.js前置知识<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF-web-%E6%A1%86%E6%9E%B6/" style="font-size: 0.88rem;">前端,web,框架<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 0.88rem;">后端开发<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" style="font-size: 0.88rem;">开发总结<sup>1</sup></a><a href="/tags/%E6%89%8B%E6%9C%BA%EF%BC%8C%E7%A7%BB%E5%8A%A8%E7%AB%AF%EF%BC%8Cless/" style="font-size: 0.88rem;">手机，移动端，less<sup>1</sup></a><a href="/tags/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7%EF%BC%8C%E6%A8%A1%E5%9D%97/" style="font-size: 0.88rem;">打包工具，模块<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>1</sup></a><a href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-vue2-js/" style="font-size: 0.88rem;">状态管理工具(vue2.js)<sup>1</sup></a><a href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7-vue3-js/" style="font-size: 0.88rem;">状态管理工具(vue3.js)<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 LiSir 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>